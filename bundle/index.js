"use strict";!function(){window.sr=ScrollReveal({duration:500,distance:"50px",easing:"ease",opacity:0,scale:1}),{isAnimate:!1,init:function(){var e=this;this.chkIE()<=10?location.href="index_ie.html":(this.menuSet(),this.transIn(),this.initPage(),$(window).on("scroll",function(){e.scroll()}).on("load",function(){e.initKV()}).scroll())},initKV:function(){var e=this,t=$(".kv h1 > span, .kv .ytm-logo li"),i=$(".kv .b1, .kv .b2, .kv .b3"),o=$(".kv .mrt"),a=$(".kv .machine-kv"),n=$(".kv .mom, .kv .dad"),r=$(".kv .gateBox .gate"),c=$(".kv .couple-kv");TweenMax.staggerTo(t,.4,{y:0,opacity:1},.2,function(){}),this.chkMobile()||(TweenMax.to(o,.5,{x:0,opacity:1,delay:.2,ease:Back.easeOut}),TweenMax.to(r,.5,{scaleY:1,y:0,opacity:1,delay:.2,ease:Back.easeOut})),TweenMax.to(a,.55,{scaleY:1,y:0,opacity:1,delay:.5,ease:Back.easeOut,onComplete:function(){e.chkMobile()?TweenMax.to(c,.5,{x:0,opacity:1}):TweenMax.staggerTo(n,.6,{x:0,opacity:1},.5),TweenMax.staggerTo(i,.6,{y:0,opacity:1,delay:.7,ease:Power1.easeOut},.2)}})},initPage:function(){var e=this,t=$(".video h2, .video .sub, .video .videoBox a.por"),i=$(".video .girl"),o=$(".video .bird"),a=this.chkMobile()?.8:.5;sr.reveal(t,{origin:"top",opacity:0,viewFactor:a},300),this.chkMobile()||sr.reveal(i,{duration:600,origin:"left",distance:"50px",opacity:0,viewFactor:.5,beforeReveal:function(e){$(e).is(":visible")&&o.addClass("active")}});var n=$(".card h2, .card h3, .card .main, .card .btnBox");sr.reveal(n,{origin:"top",opacity:0,viewFactor:.5},300);var r=$(".product > h2, .product .main"),c=$(".product .gift h2 > span, .product .giftInfo > p"),l=this.chkMobile()?$(".product .inner"):$(".product .bag, .product .leaf1, .product .leaf2"),s=$(".product .couple"),d=$(".product .gift-bird");sr.reveal(r,{origin:"top",opacity:0,viewFactor:.5},300),sr.reveal(c,{origin:"top",opacity:0,viewFactor:.5},300),this.chkMobile()?sr.reveal(l,{duration:600,origin:"top",distance:"50px",opacity:0,viewFactor:.5,delay:500,afterReveal:function(e){$(e).hasClass("show")&&d.addClass("active")}}):(sr.reveal(l,{duration:600,origin:"left",distance:"50px",opacity:0,viewFactor:.5,delay:500}),sr.reveal(s,{duration:600,origin:"right",distance:"50px",opacity:0,viewFactor:.5,delay:500}));var p=$(".ytmInfo h2, .ytmInfo .main"),f=$(".ytmInfo .deco");sr.reveal(p,{origin:"top",opacity:0,viewFactor:.5},300),sr.reveal(f,{origin:this.chkMobile()?"top":"bottom",opacity:0,viewFactor:.5,delay:400});var u=$(".feature h2, .feature ul");sr.reveal(u,{origin:"top",opacity:0,viewFactor:.5},300);var v=$(".location h2, .location .btn"),h=$(".location .mrt-line li");sr.reveal(v,{origin:"top",opacity:0,viewFactor:.5}),sr.reveal(h,{origin:"left",opacity:0,viewFactor:.5,beforeReveal:function(t){$(t).hasClass("show")&&!e.chkMobile()&&$(".location .machineBox").addClass("active")}},250)},transIn:function(){window.tl=new TimelineMax({repeat:-1,paused:!0});var e=new TweenMax.fromTo("footer .mrt-cart img",5,{x:20,ease:Expo.easeIn},{x:3e3,ease:Expo.easeIn}),t=function(){return new TweenMax.to("footer .mrt-cart img",2,{})},i=new TweenMax.fromTo("footer .mrt-cart img",1,{x:-250,ease:Back.easeOut.config(1)},{x:20,ease:Back.easeOut.config(1)});window.tl.add(i),window.tl.add(t()),window.tl.add(e),window.tl.add(t())},menuSet:function(){var e=this;$("header li").click(function(t){t.preventDefault();var i=$(this).index(),o=$("header").outerHeight(!0),a=0,n=e.chkMobile()?20:1.5*o;0==i?a=$("section.card h2").offset().top-n:1==i?a=$("section.product h2").offset().top-n:2==i?a=$("section.ytmInfo h2").offset().top-n:3==i&&(a=$("section.feature h2").offset().top-n),(isMobile.phone||isMobile.tablet)&&$(".wrap a.menu-btn").click(),e.scrollPage(a)}),$(".wrap a.menu-btn").click(function(e){e.preventDefault(),$(this).toggleClass("open-btn"),$("header").toggleClass("open-header")}),$(".wrap .btn-go").click(function(){}),$("a.por").click(function(e){return void e.preventDefault()}),$(".location a.btn").click(function(t){t.preventDefault(),e.popupOpen()}),$(".lightbox").click(function(e){e.preventDefault(),$(this).fadeOut("fast",function(){$(this).find(".embed-container").empty()})}),$(".lightbox .close-btn").click(function(e){e.preventDefault(),$(this).parent().fadeOut("fast",function(){$(this).parent().find(".embed-container").empty()})})},popupOpen:function(e){var t=$(".lightbox");void 0!=e?(t.find(".embed-container").append('<iframe frameborder="0" allow="autoplay" allowfullscreen="1" src="https://www.youtube.com/embed/'+e+'?rel=0&amp;controls=0?ecver=2&autoplay=1"></iframe>'),t.find(".embed-container, .close-btn").show(),t.find(".map_img").hide()):(t.find(".embed-container, .close-btn").hide(),t.find(".embed-container").empty(),t.find(".map_img").show()),t.fadeIn("fast")},scroll:function(){var e=$("section.kv").innerHeight(),t=$(".location .mrt-line").offset().top;this.chkMobile()||($(window).scrollTop()>=e?$("header").addClass("scrolled"):$("header").removeClass("scrolled"),$(window).scrollTop()>0&&!$(".menu_header").hasClass("active")&&$(".menu_header").addClass("active")),!this.isAnimate&&$(window).scrollTop()>=t&&(window.tl.play(),this.isAnimate=!0)},scrollPage:function(e){var t=e||0;$("html, body").stop().animate({scrollTop:t},500)},chkMobile:function(){var e=!1;return(isMobile.phone||isMobile.tablet||$(window).width()<=767)&&(e=!0),e},chkIE:function(){var e=navigator.userAgent,t=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1,i=e.indexOf("Edge")>-1&&!t,o=e.indexOf("Trident")>-1&&e.indexOf("rv:11.0")>-1;if(t){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var a=parseFloat(RegExp.$1);return 7==a?7:8==a?8:9==a?9:10==a?10:6}return i?12:o?11:13}}.init()}();